<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script async src="https://saturn.tech/widget.js"></script>
</head>

<body style="max-width: 60rem; margin: 0 auto; padding: 1rem 2rem;">
    <h1>Saturn Observatory</h1>

    <h2 id="network-size-and-traffic">Network Size & Traffic</h2>
    <p>
        The total number of nodes is estimated using the number of unique node IDs reported by <a
            href="https://orchestrator.strn.pl/stats">orchestrator API</a> as "active".
        Traffic is estimated using <a href="https://uc2x7t32m6qmbscsljxoauwoae0yeipw.lambda-url.us-west-2.on.aws">lambda
            API</a> that is used by <a href="https://dashboard.saturn.tech/address/all">Saturn Dashboard</a>.
    </p>

    <div id="saturn-active-node"></div>

    <h2 id="ttfb-and-retrievals">Time to First Byte & Retrievals</h2>

    <p>
        Time to First Byte (TTFB) is a metric that measures the time between the request for a resource and when the
        first byte of a response begins to arrive.
        To construct this chart, per hour TTFB percentiles for every node in the network were scrapped from <a
            href="https://orchestrator.strn.pl/stats">orchestrator API</a>.
        The total number of retrievals is estimated using <a
            href="https://uc2x7t32m6qmbscsljxoauwoae0yeipw.lambda-url.us-west-2.on.aws">lambda
            API</a> that is used by <a href="https://dashboard.saturn.tech/address/all">Saturn Dashboard</a>.
    </p>

    <div id="saturn-retrievals"></div>

    <h2 id="network-geography">Network Geography</h2>
    <p>
        The total number of nodes is estimated using the number of unique node IDs reported by <a
            href="https://orchestrator.strn.pl/stats">orchestrator API</a> as "active" during the month.
    </p>

    <div id="saturn-active-node-world" style="height: 50vh;"></div>

    <h2 id="earnings-and-traffic-by-country">Earnings & Traffic by Country</h2>
    <p>
        Earnings per node for each country are estimated by dividing the total earnings in the country by the total
        number of active nodes in that country.
        Earnings are estimated by combining per node info scrapped from <a
            href="https://uc2x7t32m6qmbscsljxoauwoae0yeipw.lambda-url.us-west-2.on.aws">lambda
            API</a> that is used by <a href="https://dashboard.saturn.tech/address/all">Saturn Dashboard</a> with
        the physical location of the node reported by <a href="https://orchestrator.strn.pl/stats">orchestrator API</a>.
        Note that such estimation is a bit rough because earnings and traffic are <a href="#nodes-without-traffic">not
            distributed evenly</a>.
        Traffic is the total bandwidth served by each country during the month.
        Traffic is estimated similarly to the earnings.
    </p>
    <p>
        Note that to make the chart readable and fit it on the screen not every country name is displayed.
        To see all countries either hover the pointer over the bar chart or click and drag vertically to zoom.
    </p>

    <div id="saturn-country-stats" style="height: 100vh;"></div>

    <h2 id="earnings-and-traffic-by-country-over-time">Earnings & Traffic by Country, over time</h2>
    <p>
        Earnings, traffic and the number of nodes are estimated similarly to the <a
            href="#earnings-and-traffic-by-country">above</a>.
    </p>

    <div id="saturn-active-node-and-traffic"></div>

    <h2 id="nodes-without-traffic">Nodes Without Traffic</h2>
    <p>
        This chart shows the percentage of nodes that haven't been receiving any traffic despite being continuously
        active for a given period. For example, to estimate it for 2 hour period we take all the nodes that were
        continuously reported as active by <a href="https://orchestrator.strn.pl/stats">orchestrator API</a> during the
        past 2 hours. For every node ID in this list, we calculate its traffic for the past 2 hours using <a
            href="https://uc2x7t32m6qmbscsljxoauwoae0yeipw.lambda-url.us-west-2.on.aws">lambda API</a> that is used by
        <a href="https://dashboard.saturn.tech/address/all">Saturn Dashboard</a>.
        The result is the ratio between nodes without traffic and the active nodes.
    </p>
    <p>
        Gaps on the chart might be caused by several reasons. Including but not limited to issues with our API scrapper,
        issues with orchestrator or lambda API, or issues with the Saturn network itself.
    </p>

    <div id="saturn-active-node-without-traffic"></div>

    <h2 id="earnings-and-traffic-distribution">Earnings & Traffic Distribution</h2>
    <div id="saturn-active-node-distribution"></div>

    <h2 id="node-age">Node Age</h2>
    <div id="saturn-active-node-age"></div>

    <h2 id="node-age-corellation">Correlation Between Node Age and Earnings & Traffic</h2>
    <div id="saturn-node-age-correlation"></div>

    <script type="module" src="main.js"></script>
</body>

</html>
